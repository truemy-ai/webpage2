
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é«˜é›„å¸‚å‰é®å€å³æ™‚å¤©æ°£</title>
    <!-- è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- è¼‰å…¥ React å’Œ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- è¼‰å…¥ Babelï¼Œç”¨æ–¼è½‰æ› JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* è‡ªè¨‚å­—é«”ï¼Œç¢ºä¿ä¸­æ–‡å­—é«”é¡¯ç¤ºæ­£å¸¸ */
        body {
            font-family: 'Inter', 'Noto Sans CJK TC', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // ä¸»æ‡‰ç”¨ç¨‹å¼çµ„ä»¶
        const App = () => {
            // å¾ React å…¨åŸŸç‰©ä»¶ä¸­è§£æ§‹ useState å’Œ useEffect
            const { useState, useEffect, useRef, useCallback } = React;

            // ç‹€æ…‹è®Šæ•¸ï¼šå„²å­˜å¤©æ°£è³‡æ–™
            const [weatherData, setWeatherData] = useState(null);
            // ç‹€æ…‹è®Šæ•¸ï¼šå„²å­˜è¼‰å…¥ç‹€æ…‹
            const [loading, setLoading] = useState(true);
            // ç‹€æ…‹è®Šæ•¸ï¼šå„²å­˜éŒ¯èª¤è¨Šæ¯
            const [error, setError] = useState(null);
            // æ–°å¢ç‹€æ…‹è®Šæ•¸ï¼šå„²å­˜ç¾åœ¨æ™‚åˆ»
            const [currentTime, setCurrentTime] = useState('');

            // ç”¨æ–¼æ•´é»å ±æ™‚çš„ Ref å’Œç‹€æ…‹
            const lastChimeHourRef = useRef(-1); // ä½¿ç”¨ useRef å„²å­˜ä¸Šæ¬¡å ±æ™‚çš„å°æ™‚ï¼Œé¿å…é‡è¤‡å ±æ™‚
            const chimeAudioRef = useRef(null); // ä½¿ç”¨ useRef å„²å­˜éŸ³è¨Šå…ƒç´ 

            // OpenWeatherMap API Key
            // è«‹åœ¨é€™è£¡å¡«å…¥ä½ çš„ OpenWeatherMap API Key
            const API_KEY = "c3a279983235d57dc69818ffffe9a265";

            // é«˜é›„å¸‚å‰é®å€çš„è¿‘ä¼¼ç¶“ç·¯åº¦
            const LATITUDE = 22.610834;
            const LONGITUDE = 120.317680;

            // èªéŸ³åˆæˆå¯¦ä¾‹
            const speechSynthRef = useRef(null);

            // åˆå§‹åŒ–èªéŸ³åˆæˆå™¨ï¼ŒåªåŸ·è¡Œä¸€æ¬¡
            useEffect(() => {
                if ('speechSynthesis' in window) {
                    speechSynthRef.current = window.speechSynthesis;
                } else {
                    console.warn("ç€è¦½å™¨ä¸æ”¯æ´ Web Speech API (SpeechSynthesis)ã€‚");
                }
            }, []);

            // èªéŸ³æ’­å ±å‡½æ•¸
            const speakText = useCallback((text) => {
                if (speechSynthRef.current && text) {
                    // ç¢ºä¿å–æ¶ˆä»»ä½•æ­£åœ¨é€²è¡Œçš„èªéŸ³
                    speechSynthRef.current.cancel();

                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'zh-TW'; // è¨­å®šèªéŸ³èªè¨€ç‚ºç¹é«”ä¸­æ–‡
                    utterance.rate = 1; // èªé€Ÿ (0.1 - 10, é è¨­ 1)
                    utterance.pitch = 1; // éŸ³é«˜ (0 - 2, é è¨­ 1)

                    utterance.onerror = (event) => {
                        console.error('èªéŸ³æ’­å ±éŒ¯èª¤:', event.error);
                        setError(`èªéŸ³æ’­å ±å¤±æ•—: ${event.error}. å¯èƒ½éœ€è¦ä½¿ç”¨è€…äº’å‹•ä¾†å•Ÿç”¨èªéŸ³ã€‚`);
                    };
                    
                    speechSynthRef.current.speak(utterance);
                } else if (!('speechSynthesis' in window)) {
                    setError("æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´èªéŸ³æ’­å ±åŠŸèƒ½ã€‚");
                }
            }, []);

            // ç²å–å¤©æ°£è³‡æ–™çš„å‡½æ•¸ï¼Œä½¿ç”¨ useCallback åŒ…è£¹ä»¥å„ªåŒ–æ€§èƒ½
            const fetchWeatherData = useCallback(async () => {
                if (!API_KEY) {
                    setError("è«‹åœ¨ç¨‹å¼ç¢¼ä¸­å¡«å…¥ä½ çš„ OpenWeatherMap API Keyã€‚");
                    setLoading(false);
                    return;
                }

                setLoading(true); // é–‹å§‹ç²å–è³‡æ–™æ™‚é¡¯ç¤ºè¼‰å…¥ä¸­
                setError(null); // æ¸…é™¤ä¹‹å‰çš„éŒ¯èª¤è¨Šæ¯

                // OpenWeatherMap API ç¶²å€
                const apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${LATITUDE}&lon=${LONGITUDE}&appid=${API_KEY}&units=metric&lang=zh_tw`;

                try {
                    // å˜—è©¦é€²è¡Œ API å‘¼å« (åŒ…å«æŒ‡æ•¸é€€é¿æ©Ÿåˆ¶)
                    let response;
                    let data;
                    let retries = 0;
                    const MAX_RETRIES = 5;
                    const BASE_DELAY = 1000; // 1 second

                    while (retries < MAX_RETRIES) {
                        response = await fetch(apiUrl);
                        if (response.ok) {
                            data = await response.json();
                            break; // Success, exit loop
                        } else if (response.status === 429) { // Too Many Requests
                            const delay = BASE_DELAY * Math.pow(2, retries);
                            console.warn(`API Rate limit hit. Retrying in ${delay / 1000} seconds...`);
                            await new Promise(resolve => setTimeout(resolve, delay));
                            retries++;
                        } else if (response.status === 401) { // Unauthorized error
                            // æ›´æ˜ç¢ºçš„éŒ¯èª¤è¨Šæ¯
                            throw new Error("API Key ç„¡æ•ˆæˆ–å°šæœªå•Ÿç”¨ã€‚è«‹ç¢ºèªæ‚¨çš„ OpenWeatherMap API Key æ˜¯å¦æ­£ç¢ºä¸”å·²å•Ÿç”¨ã€‚");
                        }
                        else {
                            // Other HTTP errors
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                    }

                    if (!response.ok) {
                        throw new Error(`ç„¡æ³•ç²å–å¤©æ°£è³‡æ–™: ${response.statusText}`);
                    }

                    // è™•ç† API å›å‚³çš„è³‡æ–™
                    const weatherCondition = data.weather[0].description;
                    const temperature = data.main.temp.toFixed(1); // æº«åº¦å–ä¸€ä½å°æ•¸
                    const feelsLike = data.main.feels_like.toFixed(1); // æ–°å¢é«”æ„Ÿæº«åº¦
                    const humidity = data.main.humidity;
                    const windSpeed = (data.wind.speed * 3.6).toFixed(1); // å¾ m/s è½‰æ›ç‚º km/h
                    const windDeg = data.wind.deg;
                    const pressure = data.main.pressure; // æ–°å¢æ°£å£“
                    const visibility = (data.visibility / 1000).toFixed(1); // èƒ½è¦‹åº¦å¾ç±³è½‰æ›ç‚ºå…¬é‡Œ

                    // åˆ¤æ–·é¢¨å‘
                    const getWindDirection = (deg) => {
                        const directions = ['åŒ—', 'æ±åŒ—', 'æ±', 'æ±å—', 'å—', 'è¥¿å—', 'è¥¿', 'è¥¿åŒ—'];
                        const index = Math.round((deg % 360) / 45);
                        return directions[index % 8];
                    };

                    // åˆ¤æ–·æ˜¯å¦ä¸‹é›¨ (ç°¡åŒ–åˆ¤æ–·ï¼Œå¯æ ¹æ“šéœ€æ±‚æ“´å±•)
                    const isRaining = data.weather[0].main === 'Rain' || data.weather[0].main === 'Drizzle';
                    const precipitationAmount = isRaining ? "æœ‰é™æ°´" : "0.0 mm"; // OpenWeatherMap current data doesn't directly provide current mm

                    setWeatherData({
                        condition: weatherCondition,
                        temperature: `${temperature}Â°C`,
                        feelsLike: `${feelsLike}Â°C`, // é«”æ„Ÿæº«åº¦
                        humidity: `${humidity}%`,
                        precipitation: precipitationAmount,
                        windSpeed: `${windSpeed} å…¬é‡Œ/å°æ™‚`,
                        windDirection: `${getWindDirection(windDeg)} (${windDeg}Â°)`,
                        pressure: `${pressure} hPa`, // æ°£å£“
                        visibility: `${visibility} å…¬é‡Œ`, // èƒ½è¦‹åº¦
                        isRaining: isRaining,
                        timestamp: new Date().toLocaleString('zh-TW', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit',
                            hour: '2-digit',
                            minute: '2-digit',
                            second: '2-digit',
                            hour12: false
                        }).replace(/\//g, '-')
                    });
                } catch (err) {
                    console.error("ç²å–å¤©æ°£è³‡æ–™å¤±æ•—:", err);
                    setError(`ç„¡æ³•ç²å–å¤©æ°£è³‡æ–™ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚éŒ¯èª¤: ${err.message}`);
                } finally {
                    setLoading(false);
                }
            }, [API_KEY]); // ä¾è³´ API_KEY

            // ä½¿ç”¨ useEffect é‰¤å­åœ¨çµ„ä»¶è¼‰å…¥æ™‚ç²å–å¤©æ°£è³‡æ–™ä¸¦è¨­å®šè‡ªå‹•æ›´æ–°
            useEffect(() => {
                fetchWeatherData(); // é¦–æ¬¡è¼‰å…¥æ™‚ç«‹å³ç²å–è³‡æ–™

                // æ¯ 10 åˆ†é˜æ›´æ–°ä¸€æ¬¡è³‡æ–™ (600000 æ¯«ç§’)
                const intervalId = setInterval(fetchWeatherData, 600000);

                // æ¸…ç†å‡½æ•¸ï¼šåœ¨çµ„ä»¶å¸è¼‰æ™‚æ¸…é™¤å®šæ™‚å™¨
                return () => clearInterval(intervalId);
            }, [fetchWeatherData]); // ä¾è³´ fetchWeatherData

            // æ–°å¢ useEffect é‰¤å­ä¾†æ›´æ–°ç¾åœ¨æ™‚åˆ»å’Œè™•ç†æ•´é»å ±æ™‚
            useEffect(() => {
                // åˆå§‹åŒ–éŸ³è¨Šå…ƒç´ ï¼ˆåªåŸ·è¡Œä¸€æ¬¡ï¼‰
                if (!chimeAudioRef.current) {
                    chimeAudioRef.current = new Audio('https://www.soundjay.com/misc/sounds/bell-ringing-01.mp3');
                    chimeAudioRef.current.volume = 0.7; // è¨­å®šå ±æ™‚éŸ³é‡
                }

                const updateCurrentTimeAndChime = () => {
                    const now = new Date();
                    const currentHour = now.getHours();
                    const currentMinute = now.getMinutes();
                    const currentSecond = now.getSeconds();

                    // æ›´æ–°ç¾åœ¨æ™‚åˆ»é¡¯ç¤º
                    setCurrentTime(now.toLocaleString('zh-TW', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit',
                        hour12: false
                    }).replace(/\//g, '-'));

                    // æ•´é»å ±æ™‚é‚è¼¯ï¼šåœ¨æ¯å€‹å°æ™‚çš„é–‹å§‹ï¼ˆä¾‹å¦‚ 00 åˆ† 00 ç§’åˆ° 05 ç§’ä¹‹é–“ï¼‰æ’­æ”¾
                    // ä¸¦ä¸”ç¢ºä¿æ¯å€‹å°æ™‚åªå ±æ™‚ä¸€æ¬¡
                    if (currentMinute === 0 && currentSecond >= 0 && currentSecond < 5) {
                        if (currentHour !== lastChimeHourRef.current) {
                            if (chimeAudioRef.current) {
                                chimeAudioRef.current.play().catch(e => {
                                    console.error("æ’­æ”¾å ±æ™‚éŸ³æ•ˆå¤±æ•—:", e);
                                    // æç¤ºä½¿ç”¨è€…éœ€è¦äº’å‹•æ‰èƒ½æ’­æ”¾éŸ³æ•ˆ
                                    setError("å ±æ™‚éŸ³æ•ˆå¯èƒ½å› ç€è¦½å™¨æ”¿ç­–è¢«é˜»æ“‹ï¼Œè«‹é»æ“Šé é¢ä»»æ„è™•å•Ÿç”¨éŸ³æ•ˆã€‚");
                                });
                            }
                            lastChimeHourRef.current = currentHour; // æ›´æ–°ä¸Šæ¬¡å ±æ™‚çš„å°æ™‚
                        }
                    } else if (currentMinute === 59 && currentSecond > 55) {
                        // åœ¨æ¯å€‹å°æ™‚çµæŸå‰é‡ç½® lastChimeHourRefï¼Œä»¥ä¾¿ä¸‹å€‹å°æ™‚èƒ½å†æ¬¡å ±æ™‚
                        lastChimeHourRef.current = -1;
                    }
                };

                updateCurrentTimeAndChime(); // é¦–æ¬¡è¼‰å…¥æ™‚æ›´æ–°
                const timeIntervalId = setInterval(updateCurrentTimeAndChime, 1000); // æ¯ç§’æ›´æ–°

                // æ¸…ç†å‡½æ•¸ï¼šåœ¨çµ„ä»¶å¸è¼‰æ™‚æ¸…é™¤å®šæ™‚å™¨
                return () => clearInterval(timeIntervalId);
            }, []); // ç©ºä¾è³´é™£åˆ—è¡¨ç¤ºåªåœ¨çµ„ä»¶æ›è¼‰å’Œå¸è¼‰æ™‚åŸ·è¡Œ

            // æ‰‹å‹•æ›´æ–°æŒ‰éˆ•çš„é»æ“Šè™•ç†å‡½æ•¸
            const handleManualUpdate = () => {
                fetchWeatherData(); // å‘¼å«ç²å–å¤©æ°£è³‡æ–™çš„å‡½æ•¸
                const now = new Date();
                const currentHour = now.getHours();
                const currentMinute = now.getMinutes();
                const speechText = `ç¾åœ¨æ™‚é–“æ˜¯ ${currentHour} é» ${currentMinute} åˆ†ã€‚`;
                speakText(speechText); // èªéŸ³æ’­å ±ç¾åœ¨æ™‚åˆ»
            };

            // æ ¹æ“šå¤©æ°£ç‹€æ³ç²å–èƒŒæ™¯é¡åˆ¥
            const getBackgroundClass = (condition) => {
                if (!condition) return 'bg-gradient-to-br from-blue-200 to-indigo-200';
                const lowerCaseCondition = condition.toLowerCase();
                if (lowerCaseCondition.includes('é›¨') || lowerCaseCondition.includes('rain') || lowerCaseCondition.includes('drizzle')) {
                    return 'bg-gradient-to-br from-gray-600 to-gray-800 text-white'; // ä¸‹é›¨å¤©æ·±è‰²èª¿
                } else if (lowerCaseCondition.includes('é›²') || lowerCaseCondition.includes('cloud')) {
                    return 'bg-gradient-to-br from-blue-300 to-gray-400'; // å¤šé›²å¤©ç°è‰²èª¿
                } else if (lowerCaseCondition.includes('æ™´') || lowerCaseCondition.includes('clear')) {
                    return 'bg-gradient-to-br from-blue-300 to-sky-500'; // æ™´å¤©è—è‰²èª¿
                } else if (lowerCaseCondition.includes('éœ§') || lowerCaseCondition.includes('mist') || lowerCaseCondition.includes('fog')) {
                    return 'bg-gradient-to-br from-gray-300 to-slate-400'; // æœ‰éœ§ç°è‰²èª¿
                }
                return 'bg-gradient-to-br from-blue-200 to-indigo-200'; // é è¨­æ¼¸å±¤
            };

            // æ ¹æ“šå¤©æ°£ç‹€æ³ç²å–åœ–ç¤º
            const getWeatherIcon = (condition) => {
                if (!condition) return 'â˜€ï¸'; // é è¨­åœ–ç¤º
                const lowerCaseCondition = condition.toLowerCase();
                if (lowerCaseCondition.includes('æ™´') || lowerCaseCondition.includes('clear')) {
                    return 'â˜€ï¸'; // æ™´å¤©
                } else if (lowerCaseCondition.includes('é›²') || lowerCaseCondition.includes('cloud')) {
                    return 'â˜ï¸'; // å¤šé›²
                } else if (lowerCaseCondition.includes('é›¨') || lowerCaseCondition.includes('rain') || lowerCaseCondition.includes('drizzle')) {
                    return 'ğŸŒ§ï¸'; // ä¸‹é›¨
                } else if (lowerCaseCondition.includes('é›·') || lowerCaseCondition.includes('thunder')) {
                    return 'â›ˆï¸'; // é›·é›¨
                } else if (lowerCaseCondition.includes('é›ª') || lowerCaseCondition.includes('snow')) {
                    return 'â„ï¸'; // ä¸‹é›ª
                } else if (lowerCaseCondition.includes('éœ§') || lowerCaseCondition.includes('mist') || lowerCaseCondition.includes('fog')) {
                    return 'ğŸŒ«ï¸'; // æœ‰éœ§
                }
                return 'â“'; // æœªçŸ¥
            };

            // è¼‰å…¥ä¸­ç‹€æ…‹é¡¯ç¤º
            if (loading) {
                return (
                    <div className="flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-100 to-purple-100">
                        <div className="flex flex-col items-center p-8 rounded-xl shadow-2xl bg-white bg-opacity-90 text-blue-700">
                            <svg className="animate-spin h-10 w-10 text-blue-500 mb-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                                <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            <div className="text-xl font-semibold">è³‡æ–™è¼‰å…¥ä¸­ï¼Œè«‹ç¨å€™...</div>
                        </div>
                    </div>
                );
            }

            // éŒ¯èª¤ç‹€æ…‹é¡¯ç¤º
            if (error) {
                return (
                    <div className="flex items-center justify-center min-h-screen bg-gradient-to-br from-red-100 to-orange-100">
                        <div className="text-xl font-semibold text-red-700 p-6 rounded-lg shadow-xl bg-white bg-opacity-90 flex flex-col items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 text-red-500 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                                <path strokeLinecap="round" strokeLinejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <p className="text-center">éŒ¯èª¤: {error}</p>
                            {error.includes("ç€è¦½å™¨æ”¿ç­–") && (
                                <p className="text-sm mt-2 text-gray-600">
                                    è«‹é»æ“Šé é¢ä»»æ„è™•æˆ–éŸ³è¨Šæ’­æ”¾å™¨ä»¥å•Ÿç”¨éŸ³æ•ˆã€‚
                                </p>
                            )}
                            {error.includes("èªéŸ³æ’­å ±å¤±æ•—") && (
                                <p className="text-sm mt-2 text-gray-600">
                                    æ­¤åŠŸèƒ½å¯èƒ½éœ€è¦ä½¿ç”¨è€…äº’å‹•ï¼ˆä¾‹å¦‚é»æ“Šé é¢ï¼‰æ‰èƒ½é¦–æ¬¡å•Ÿç”¨ã€‚
                                </p>
                            )}
                            <button
                                onClick={handleManualUpdate}
                                className="mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
                            >
                                é‡æ–°è¼‰å…¥
                            </button>
                        </div>
                    </div>
                );
            }

            // ç•¶æ²’æœ‰å¤©æ°£è³‡æ–™æ™‚ (ä¾‹å¦‚ API Key éŒ¯èª¤æˆ–é¦–æ¬¡è¼‰å…¥å¤±æ•—)
            if (!weatherData) {
                return (
                    <div className="flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-100 to-slate-200">
                        <div className="text-xl font-semibold text-gray-700 p-6 rounded-lg shadow-xl bg-white bg-opacity-90 flex flex-col items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 text-gray-500 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                                <path strokeLinecap="round" strokeLinejoin="round" d="M9.172 16.172a4 4 0 015.656 0M9.172 7.828a4 4 0 015.656 0M12 10.5V16m-4 2h8a2 2 0 002-2V7a2 2 0 00-2-2H8a2 2 0 00-2 2v9a2 2 0 002 2z" />
                            </svg>
                            <p className="text-center">ç„¡æ³•é¡¯ç¤ºå¤©æ°£è³‡æ–™ã€‚è«‹æª¢æŸ¥æ‚¨çš„ API Key æˆ–ç¨å¾Œå†è©¦ã€‚</p>
                            <button
                                onClick={handleManualUpdate}
                                className="mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
                            >
                                é‡æ–°è¼‰å…¥
                            </button>
                        </div>
                    </div>
                );
            }

            // æ¸²æŸ“å¤©æ°£è³‡è¨Š
            return (
                <div className={`min-h-screen flex items-center justify-center p-4 sm:p-6 transition-all duration-500 ${getBackgroundClass(weatherData.condition)}`}>
                    <div className="bg-white rounded-3xl shadow-2xl p-6 sm:p-8 md:p-10 max-w-lg w-full transform transition-transform duration-300 hover:scale-105">
                        <h2 className="text-2xl sm:text-3xl font-extrabold text-center mb-4 text-blue-800 tracking-wide">
                            é«˜é›„å¸‚å‰é®å€é€±é‚Šå³æ™‚å¤©æ°£
                        </h2>
                        <p className="text-center text-sm text-gray-500 mb-6">è³‡æ–™ä¾†æº: OpenWeatherMap</p>

                        {/* ç¾åœ¨æ™‚åˆ»é¡¯ç¤º */}
                        <div className="text-center text-xl sm:text-2xl font-semibold text-gray-700 mb-4 bg-blue-50 py-2 rounded-lg shadow-inner">
                            ç¾åœ¨æ™‚åˆ»ï¼š<span className="font-bold text-blue-600">{currentTime}</span>
                        </div>

                        {/* å¤©æ°£ç‹€æ³æ‘˜è¦ */}
                        <div className={`flex items-center justify-center p-4 rounded-xl mb-6 shadow-md transition-all duration-300 ${
                            weatherData.isRaining ? 'bg-blue-100 text-blue-700' : 'bg-green-100 text-green-700'
                        }`}>
                            <span className="text-4xl sm:text-5xl mr-3">{getWeatherIcon(weatherData.condition)}</span>
                            <span className="text-2xl sm:text-3xl font-extrabold">
                                {weatherData.isRaining ? 'ç›®å‰æ­£åœ¨ä¸‹é›¨ï¼' : 'ç›®å‰ä¸æœƒä¸‹é›¨ï¼'}
                            </span>
                        </div>

                        <div className="space-y-4 text-lg sm:text-xl text-gray-800">
                            <div className="flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                                <span className="font-semibold text-gray-600 flex items-center">
                                    <span className="mr-2 text-xl">ğŸŒ¡ï¸</span>å¤©æ°£ç‹€æ³
                                </span>
                                <span className="font-medium">{weatherData.condition}</span>
                            </div>
                            <div className="flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                                <span className="font-semibold text-gray-600 flex items-center">
                                    <span className="mr-2 text-xl">â˜€ï¸</span>æº«åº¦
                                </span>
                                <span className="font-medium">{weatherData.temperature}</span>
                            </div>
                            <div className="flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                                <span className="font-semibold text-gray-600 flex items-center">
                                    <span className="mr-2 text-xl">ğŸ§â€â™€ï¸</span>é«”æ„Ÿæº«åº¦
                                </span>
                                <span className="font-medium">{weatherData.feelsLike}</span>
                            </div>
                            <div className="flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                                <span className="font-semibold text-gray-600 flex items-center">
                                    <span className="mr-2 text-xl">ğŸ’§</span>ç›¸å°æ¿•åº¦
                                </span>
                                <span className="font-medium">{weatherData.humidity}</span>
                            </div>
                            <div className="flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                                <span className="font-semibold text-gray-600 flex items-center">
                                    <span className="mr-2 text-xl">ğŸŒ§ï¸</span>é™æ°´é‡
                                </span>
                                <span className="font-medium">{weatherData.precipitation}</span>
                            </div>
                            <div className="flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                                <span className="font-semibold text-gray-600 flex items-center">
                                    <span className="mr-2 text-xl">ğŸ’¨</span>é¢¨é€Ÿ
                                </span>
                                <span className="font-medium">{weatherData.windSpeed}</span>
                            </div>
                            <div className="flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                                <span className="font-semibold text-gray-600 flex items-center">
                                    <span className="mr-2 text-xl">ğŸ§­</span>é¢¨å‘
                                </span>
                                <span className="font-medium">{weatherData.windDirection}</span>
                            </div>
                            <div className="flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                                <span className="font-semibold text-gray-600 flex items-center">
                                    <span className="mr-2 text-xl">ğŸ“Š</span>æ°£å£“
                                </span>
                                <span className="font-medium">{weatherData.pressure}</span>
                            </div>
                            <div className="flex justify-between items-center bg-gray-50 p-3 rounded-lg shadow-sm">
                                <span className="font-semibold text-gray-600 flex items-center">
                                    <span className="mr-2 text-xl">ğŸ”­</span>èƒ½è¦‹åº¦
                                </span>
                                <span className="font-medium">{weatherData.visibility}</span>
                            </div>
                        </div>

                        <div className="text-sm sm:text-base text-gray-500 text-center mt-6 pt-4 border-t border-gray-200">
                            å¤©æ°£è³‡æ–™æ›´æ–°æ™‚é–“ï¼š<span className="font-medium">{weatherData.timestamp}</span>
                        </div>

                        {/* æ‰‹å‹•æ›´æ–°æŒ‰éˆ• */}
                        <div className="mt-8 text-center">
                            <button
                                onClick={handleManualUpdate}
                                className="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-opacity-75 flex items-center justify-center mx-auto"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2">
                                    <path strokeLinecap="round" strokeLinejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004 12c0 2.21.894 4.208 2.342 5.656L9 20m3-2v-5h.582m15.356 2A8.001 8.001 0 004 12c0 2.21.894 4.208 2.342 5.656L9 20" />
                                </svg>
                                æ‰‹å‹•æ›´æ–°å¤©æ°£ä¸¦æ’­å ±æ™‚é–“
                            </button>
                        </div>

                        {/* èƒŒæ™¯éŸ³æ¨‚æ§åˆ¶ */}
                        <div className="mt-6 text-center">
                            <audio controls loop className="w-full max-w-xs mx-auto">
                                {/* è«‹åœ¨é€™è£¡æ›¿æ›æˆæ‚¨è‡ªå·±çš„èƒŒæ™¯éŸ³æ¨‚æª”æ¡ˆè·¯å¾‘ */}
                                {/* ç¯„ä¾‹: <source src="your_background_music.mp3" type="audio/mpeg"> */}
                                <source src="https://preview.dewolfemusic.com/S461483_128.mp3" type="audio/mpeg" />
                                æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³è¨Šå…ƒç´ ã€‚
                            </audio>
                            <p className="text-xs text-gray-400 mt-2">
                                (èƒŒæ™¯éŸ³æ¨‚ï¼šè«‹æ›¿æ›ç‚ºæ‚¨è‡ªå·±çš„éŸ³æ¨‚æª”æ¡ˆè·¯å¾‘ï¼Œç›®å‰ç‚ºç¯„ä¾‹éŸ³æ¨‚)
                            </p>
                            <p className="text-xs text-red-500 mt-2">
                                æé†’ï¼šéŸ³æ•ˆå’ŒèªéŸ³æ’­å ±å¯èƒ½å› ç€è¦½å™¨è‡ªå‹•æ’­æ”¾æ”¿ç­–è¢«é˜»æ“‹ï¼Œè«‹é»æ“Šé é¢ä»»æ„è™•æˆ–éŸ³è¨Šæ’­æ”¾å™¨ä»¥å•Ÿç”¨éŸ³æ•ˆã€‚
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        // å°‡ React æ‡‰ç”¨ç¨‹å¼æ¸²æŸ“åˆ° HTML é é¢ä¸­
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
